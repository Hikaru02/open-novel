{"version":3,"file":"メイン.js","sources":["@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/1","H:/DataBOX/myFiles/GitHub/open-novel/エンジン/プログラム/ES6/ヘルパー.js","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/4","H:/DataBOX/myFiles/GitHub/open-novel/エンジン/プログラム/ES6/モデル.js","H:/DataBOX/myFiles/GitHub/open-novel/エンジン/プログラム/ES6/ビュー.js","H:/DataBOX/myFiles/GitHub/open-novel/エンジン/プログラム/ES6/コントローラー.js"],"names":[],"mappings":"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","sourcesContent":["System.register($__placeholder__0, [], $__placeholder__1);","function() {\n      $__placeholder__0\n    }","var __moduleName = $__placeholder__0;",";( _ => {\r\n\t'use strict'\r\n\r\n\tvar global = (1,eval)('this')\r\n\tvar LOG = console.log.bind(console)\r\n\r\n\tvar Util = ( _ => {\r\n\r\n\t\treturn {\r\n\t\t\t//setDefalt(obj, name, value) {\r\n\t\t\t//\tif (arguments.length !== 3) throw 'illegal arguments length'\r\n\t\t\t//\tif (!(name in obj)) obj[name] = value\r\n\t\t\t//\treturn obj\r\n\t\t\t//},\r\n\r\n\t\t\tsetDefalts(obj = {}, props) {\r\n\t\t\t\tif (arguments.length !== 2) throw 'illegal arguments length'\r\n\t\t\t\tObject.keys(props).forEach(key => { if (!(key in obj)) obj[key] = props[key] })\r\n\t\t\t\treturn obj\r\n\t\t\t},\r\n\r\n\t\t\tsetProperties(obj = {}, props) {\r\n\t\t\t\tObject.keys(props).forEach(key => obj[key] = props[key] )\r\n\t\t\t\treturn obj\r\n\t\t\t},\r\n\t\t}\r\n\t})()\r\n\r\n\r\n\r\n\tUtil.setDefalts(String.prototype, {\r\n\t\trepeat: function repeat(num) {\r\n\t\t\treturn new Array(num + 1).join(this)\r\n\t\t},\r\n\t})\r\n\r\n\r\n\tUtil.setDefalts(Promise, {\r\n\r\n\t\tdefer() {\r\n\t\t\tvar resolve, reject\r\n\t\t\tvar promise = new Promise((ok, ng) => {\r\n\t\t  \t\tresolve = ok, reject = ng\r\n\t\t\t})\r\n\t\t\treturn {promise, resolve, reject}\r\n\t\t},\r\n\r\n\t})\r\n\r\n\r\n\tUtil.setProperties(Promise.prototype, {\r\n\r\n\t\tnext: function next(kind, onFulfilled, onRejected) {\r\n\t\t\treturn this.then( result => {\r\n\t\t\t\tPlayer.setPhase(kind + '中...')\r\n\t\t\t\treturn onFulfilled(result)\r\n\t\t\t}, onRejected).catch(err => {\r\n\t\t\t\tLOG(kind + 'エラー', err)\r\n\t\t\t\tPlayer.setPhase(kind + 'エラー')\r\n\t\t\t\treturn Promise.reject(err)\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\ton: function on(type, onFulfilled = result => result, onRejected) {\r\n\t\t\treturn this.then( result => View.on(type).then( _ => onFulfilled(result) ).catch(onRejected) )\r\n\t\t},\r\n\r\n\t\tand: function and(func, arg) {\r\n\t\t\treturn this.then( _ => func(arg) )\r\n\t\t},\r\n\r\n\t\tdelay: function delay(time) {\r\n\t\t\tif (!+time) throw 'illegal time number'\r\n\t\t\treturn this.then( _ => new Promise( resolve => setTimeout(resolve, time) ) )\r\n\t\t},\r\n\r\n\t})\r\n\r\n\r\n\tvar READY = ( _ => {\r\n\t\tfunction READY(type) {\r\n\t\t\tvar types = (arguments.length != 1) ? [].slice.call(arguments) : (Array.isArray(type)) ? type : [type]\r\n\t\t\treturn Promise.all(types.map(type => {\r\n\t\t\t\tif (!(type in READY)) throw 'illegal READY type \"' +type+ '\"'\r\n\t\t\t\treturn READY[type]\r\n\t\t\t}))\r\n\t\t}\r\n\t\t;['DOM', 'Player', 'View'].forEach(type => {\r\n\t\t\tglobal[type] = null\r\n\t\t\tvar defer = Promise.defer()\r\n\t\t\tREADY[type] = defer.promise\r\n\t\t\tREADY[type].ready = obj => {\r\n\t\t\t\tglobal[type] = obj\r\n\t\t\t\tdefer.resolve()\r\n\t\t\t} \r\n\t\t})\r\n\t\treturn READY\r\n\t})()\r\n\r\n\twindow.addEventListener('DOMContentLoaded', READY.DOM.ready)\r\n\r\n\r\n\tUtil.setDefalts(global, {\r\n\t\tglobal, READY, Util, LOG,\r\n\t\tNOP() {},\r\n\t\tERROR(message) { alert(message) },\r\n\t\tURLs\t: {\r\n\t\t\tSettingData: 'データ/作品設定.txt',\r\n\t\t},\r\n\t})\r\n\r\n})();","return $__placeholder__0","System.get($__placeholder__0 +'')","\r\nREADY().then(function () {\r\n\t'use strict'\r\n\r\n\tfunction setPhase(phase) { document.title = '【' +phase+ '】' }\r\n\r\n\r\n\tfunction parseScript(text) {\r\n\t\ttext = text.replace(/\\r\\n/g, '\\n').replace(/\\n+/g, '\\n').replace(/\\n/g, '\\r\\n')\r\n\t\tfunction parseOne(base, text) {\r\n\t\t\tvar chanks = text.match(/[^\\n]+?\\n(\\t+[\\s\\S]+?\\n)+/g) || []\r\n\t\t\tchanks.forEach(function (chank) {\r\n\t\t\t\t//chank.replace(/^\\t/gm,'').replace(/\\n$/, '').split(/\\n(?!\\t)/).forEach(function (chank) {\r\n\t\t\t\t\tvar blocks = chank.replace(/^\\t/gm,'').replace(/\\n$/, '').match(/.+/g)\r\n\t\t\t\t\t//LOG(blocks)\r\n\t\t\t\t\tvar act = blocks.shift()\r\n\t\t\t\t\tvar data = '\\n' +blocks.join('\\n')+ '\\n'\r\n\t\t\t\t\tvar ary = []\r\n\t\t\t\t\tif (act[0] !== '・') {\r\n\t\t\t\t\t\tbase.push(['会話', [[act, blocks]]])\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t} else act = act.slice(1)\r\n\t \r\n\t\t\t\t\tif (data.match(/\\t/)) {\r\n\t\t\t\t\t\tbase.push([act, ary])\r\n\t\t\t\t\t\t//LOG(data)\r\n\t\t\t\t\t\tparseOne(ary, data)\r\n\t\t\t\t\t} else base.push([act, blocks])\r\n\t\t\t\t//})\r\n\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tvar base = []\r\n\t\tparseOne(base, text)\r\n\t\treturn base\r\n\r\n\t}\r\n\r\n\r\n\r\n\tfunction copyObject(obj) {\r\n\t\treturn JSON.parse(JSON.stringify(obj))\r\n\t}\r\n\r\n\r\n\tfunction otherName(name) {\r\n\t\treturn function () {\r\n\t\t\treturn this[name].apply(this, arguments)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction preloadImage(url, result) {\r\n\t\tvar hide = View.setLoadingMessage('Loadind...')\r\n\t\treturn new Promise(function (ok, ng) {\r\n\t\t\t//LOG(url, isNoneType(url))\r\n\t\t\tif (isNoneType(url)) return ok()\r\n\t\t\turl = forceImageURL(url)\r\n\t\t\tvar img = new Image\r\n\t\t\timg.onload = function () { ok(result) }\r\n\t\t\timg.onerror = function (evt) { ng('画像URL『'+url+'』のキャッシュに失敗') }\r\n\t\t\timg.src = url\r\n\t\t}).then(function (result) {\r\n\t\t\thide()\r\n\t\t\treturn result\r\n\t\t})\r\n\t}\r\n\r\n\r\n\r\n\tfunction runScript(script) {\r\n\r\n\t\tvar run = Promise.defer()\r\n\t\tscript = copyObject(script)\t\r\n\r\n\t\tvar actHandlers = {\r\n\t\t\t'会話': function (data, done, failed) {\r\n\r\n\t\t\t\tfunction nextPage() {\r\n\r\n\t\t\t\t\tvar ary = data.shift()\r\n\t\t\t\t\tif (!ary) return done()\r\n\r\n\t\t\t\t\tvar name = ary[0], texts = ary[1]\r\n\t\t\t\t\tView.nextPage(name)\r\n\r\n\t\t\t\t\tfunction nextSentence() {\r\n\t\t\t\t\t\tvar text = texts.shift()\r\n\t\t\t\t\t\tif (!text) return nextPage()\r\n\t\t\t\t\t\ttext = text.replace(/\\\\w(\\d+)/g, function (_, num) {\r\n\t\t\t\t\t\t\treturn '\\u200B'.repeat(num)\r\n\t\t\t\t\t\t}).replace(/\\\\n/g, '\\n')\r\n\t\t\t\t\t\tView.addSentence(text).on('go', nextSentence, failed)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnextSentence()\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnextPage()\r\n\t\t\t},\r\n\t\t\t'背景': function (data, done, failed) {\r\n\t\t\t\tvar url = data[0]\r\n\t\t\t\tpreloadImage(url).then( View.setBGImage.bind(View, { url: forceCSSURL(url) }) ).then(done, failed)\r\n\t\t\t},\r\n\t\t\t'立絵': otherName('立ち絵'),\r\n\t\t\t'立ち絵': function (data, done, failed) {\r\n\t\t\t\t//LOG(data)\r\n\t\t\t\tPromise.all(data.reduce(function (base, ary) {\r\n\r\n\t\t\t\t\tif (isNoneType(ary)) return base\r\n\r\n\t\t\t\t\tvar type = ['left','right']['左右'.indexOf(ary[0])]\r\n\t\t\t\t\tvar url = ary[1][0]\r\n\r\n\t\t\t\t\tif (!type) failed('不正な位置検出')\r\n\r\n\t\t\t\t\tvar ro = { url: forceImageURL(url) }\r\n\t\t\t\t\tro[type] = '0px'\r\n\t\t\t\t\tbase.push(preloadImage(url, ro))\r\n\t\t\t\t\treturn base\r\n\t\t\t\t}, [])).then(View.setFDImages.bind(View)).then(done, failed)\r\n\t\t\t},\r\n\t\t\t'選択': otherName('選択肢'),\r\n\t\t\t'選択肢': function (data, done, failed) {\r\n\r\n\t\t\t\tView.setChoiceWindow(data.map(function (ary) {\r\n\t\t\t\t\treturn { name: ary[0], value: ary[1][0] }\r\n\t\t\t\t})).then(function (url) {\r\n\t\t\t\t\turl = forceScriptURL(url)\r\n\r\n\t\t\t\t\t//LOG(url)\r\n\t\t\t\t\tgetScriptData(url).then(runScript).then(done, failed)\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t'コメント': function (data, done, failed) {\r\n\t\t\t\tdone()\r\n\t\t\t},\r\n\r\n\t\t}\r\n\r\n\t\tfunction main_loop() {\r\n\r\n\t\t\t//var loop = Promise.defer()\r\n\r\n\t\t\tvar act, loop = new Promise(function (resolve, reject) {\r\n\r\n\t\t\t\tvar prog = script.shift()\r\n\t\t\t\tif (!prog) return run.resolve() \r\n\t\t\t\tact = prog[0]\r\n\t\t\t\tvar data = prog[1]\r\n\r\n\t\t\t\tif (act in actHandlers) actHandlers[act](data, resolve, reject)\r\n\t\t\t\telse {\r\n\t\t\t\t\tERROR('サポートされていないコマンド『' +act+ '』を検出しました。\\n\\nこのコマンドを飛ばして再生が継続されます。')\r\n\t\t\t\t\tresolve()\r\n\t\t\t\t}\r\n\r\n\t\t\t}).then(main_loop, function (err) {\r\n\t\t\t\tvar message = err ? 'コマンド『' +act+ '』で『' +err+ '』が起こりました。' : 'コマンド『' +act+ '』が原因かもしれません。'\r\n\t\t\t\tERROR('スクリプトを解析中にエラーが発生しました。\\n\\n' +message+ '\\n\\nこのコマンドを保証せず再生が継続されます。')\r\n\t\t\t\treturn main_loop()\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tmain_loop()\r\n\t\treturn run.promise\r\n\r\n\t}\r\n\r\n\r\n\tfunction isNoneType(str) {\r\n\t\treturn (typeof str === 'string') && /^(無し|なし)$/.test(str)\r\n\t}\r\n\r\n\tfunction forceCSSURL(url, type, root) {\r\n\t\tif (!url) throw 'URL特定不能エラー'\r\n\t\treturn isNoneType(url) ? 'none' : 'url(' +forceImageURL(url, type, root)+ ')'\r\n\t}\r\n\r\n\tfunction forceImageURL(url, type, root) {\r\n\t\ttype = type || 'png'\r\n\t\troot = root || '画像'\r\n\t\treturn forceURL(url, type, root)\r\n\t}\r\n\r\n\tfunction forceScriptURL(url, type, root) {\r\n\t\ttype = type || 'txt'\r\n\t\troot = root || 'テキスト'\r\n\t\treturn forceURL(url, type, root)\r\n\t}\r\n\r\n\tfunction forceURL(url, type, root) {\r\n\t\tif (!url) throw 'URL特定不能エラー'\r\n\t\tif (!url.match(/\\.[^\\.]+$/)) url += '.' + type\r\n\t\tif (root && (!url.match(root))) url = 'データ/' + root + '/' + url\r\n\t\treturn url\r\n\t}\r\n\r\n\r\n\tfunction getSettingData() {\r\n\t\treturn loadText(URLs.SettingData).then(function (text) {\r\n\t\t\tvar setting = parseScript(text)\r\n\t\t\tvar data = {}\r\n\t\t\tsetting.forEach(function (ary) {\r\n\t\t\t\tdata[ary[0]] = ary[1]\r\n\t\t\t})\r\n\t\t\treturn data\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tfunction getScriptData(url) {\r\n\t\turl = forceScriptURL(url)\r\n\t\treturn loadText(url).then(function (text) {\r\n\t\t\tvar script = parseScript(text)\r\n\t\t\tvar data = script\r\n\t\t\treturn data\r\n\t\t})\r\n\r\n\t}\r\n\r\n\r\n\tfunction loadText(url) {\r\n\t\treturn load(url, 'text')\r\n\t}\r\n\r\n\tfunction load(url, type) {\r\n\t\treturn new Promise(function (ok, ng) {\r\n\t\t\tvar xhr = new XMLHttpRequest()\r\n\t\t\txhr.onload = function () { ok(xhr.response) }\r\n\t\t\txhr.onerror = ng\r\n\t\t\txhr.open('GET', url)\r\n\t\t\tif (type) xhr.responseType = type\r\n\t\t\txhr.send()\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tREADY.Player.ready({\r\n\t\tsetPhase\t\t: setPhase,\r\n\t\tgetSettingData\t: getSettingData,\r\n\t\tgetScriptData\t: getScriptData,\r\n\t\trunScript\t\t: runScript,\r\n\t})\r\n\r\n})","\r\nREADY('Player', 'DOM').then( _ => {\r\n\t'use strict'\r\n\r\n\tvar View = null\r\n\r\n\tvar EP = Element.prototype\r\n\tUtil.setDefalts(EP, {\r\n\t\ton\t\t\t\t\t: EP.addEventListener,\r\n\t\trequestFullscreen\t: EP.webkitRequestFullscreen || EP.mozRequestFullScreen,\r\n\t\tappend\t\t\t\t: EP.appendChild,\r\n\t\tremoveChildren\t\t: function () { this.innerHTML = ''; return this },\r\n\t\tsetStyles\t\t\t: function (styles) {\r\n\t\t\tstyles = styles || {}\r\n\t\t\tObject.keys(styles).forEach( key => { this.style[key] = styles[key] }, this)\r\n\t\t\treturn this\r\n\t\t},\r\n\t})\r\n\t\r\n\tif (!document.onfullscreenchange) Object.defineProperty(document, 'onfullscreenchange', {\r\n\t\tset: val => {\r\n\t\t\tif ('onwebkitfullscreenchange' in document) document.onwebkitfullscreenchange = val\r\n\t\t\telse document.onmozfullscreenchange = val\r\n\t\t}\r\n\t})\r\n\tif (!document.fullscreenElement) Object.defineProperty(document, 'fullscreenElement', {\r\n\t\tget: _ => document.webkitFullscreenElement || document.mozFullScreenElement,\r\n\t})\r\n\r\n\r\n\r\n\tfunction DOM(tagName, styles) {\r\n\t\tif (tagName == 'text') return document.createTextNode(styles)\r\n\t\tvar el = document.createElement(tagName)\r\n\t\treturn el.setStyles(styles)\r\n\t}\r\n\r\n\r\n\tvar query    = document.querySelector.bind(document),\r\n\t    queryAll = document.querySelectorAll.bind(document)\r\n\r\n\tvar el_root    = query('#playerwrapper'),\r\n\t\tel_wrapper = new DOM('div'),\r\n\t    el_player  = new DOM('div'),\r\n\t    el_context = new DOM('div')\r\n\r\n\t\tel_root.removeChildren()\r\n\t\tel_root.append(el_wrapper).append(el_player).append(el_context)\r\n\r\n\t//var RAF = requestAnimationFrame\r\n\r\n\r\n\r\n\tfunction adjustScale(height, ratio, full) {\r\n\r\n\t\t//LOG(arguments)\r\n\r\n\t\tif (!full) el_player.style.height = '100%'\r\n\r\n\t\tvar ratio = ratio || 16 / 9\r\n\r\n\t\tvar width = height * ratio\r\n\r\n\t\tel_player.style.fontSize = height / 20 + 'px'\r\n\r\n\t\t\r\n\t\t//width = screen.width < width ? screen.width : width\r\n\r\n\t\tel_wrapper.style.height = height + 'px'\r\n\t\tel_wrapper.style.width  = width  + 'px'\r\n\t\tif (full) el_player.style.height = height + 'px'\r\n\t\telse fitScreen = NOP \r\n\r\n\t\t//RAF(styleAdjustLoop) \r\n\t}\r\n\t\r\n\r\n\r\n\tvar el_debug = new DOM('div', {\r\n\t\twidth\t\t: '310px',\r\n\t\ttextAlign\t: 'center',\r\n\t\tfontSize\t: '1em',\r\n\t})\r\n\r\n\r\n\t;[240, 360, 480, 640, 720, 1080].forEach(size => {\r\n\r\n\t\tvar el = el_root.append(el_debug).append(new DOM('button'))\r\n\t\tel.append(new DOM('text', size + 'p'))\r\n\t\tel.on('click', _ =>\tadjustScale(size) )\r\n\t})\r\n\t\r\n\tel_root.append(el_debug).append(new DOM('br'))\r\n\t\r\n\tvar el = el_root.append(el_debug).append(new DOM('button'))\r\n\tel.append(new DOM('text', 'フルウィンドウ（横）'))\r\n\tel.on('click', _ => {\r\n\t\tfitScreen = _ => {\r\n\t\t\tvar ratio = 16 / 9\r\n\t\t\tvar width = document.body.clientWidth\r\n\t\t\tvar height = width / ratio\r\n\t\t\tadjustScale(height, 0, true)\r\n\t\t}\r\n\t\tfitScreen()\r\n\t})\r\n\r\n\tvar el = el_root.append(el_debug).append(new DOM('button'))\r\n\tel.append(new DOM('text', 'フルスクリーン（横）'))\r\n\tel.on('click', _ => {\r\n\t\tel_player.requestFullscreen()\r\n\t\tfitScreen = _ => {\r\n\t\t\tvar ratio = 16 / 9\r\n\t\t\tvar width = screen.width, height = screen.height\r\n\t\t\tif (height * ratio > width) height = width / ratio\r\n\t\t\tadjustScale(height, 0, true)\r\n\t\t}\r\n\t\tfitScreen()\r\n\t\tif (document.onmozfullscreenchange) \r\n\t\t\tView.showNotice('お使いのブラウザでは\\n表示が崩れる場合があります', 3000)\r\n\t\telse\r\n\t\t\tView.showNotice('この機能はブラウザにより\\n表示の差があります', 3000)\r\n\t})\r\n\r\n\r\n\r\n\r\n\tfunction setAnimate(func) {\r\n\t\tvar start = performance.now()\r\n\t\tvar cancelled = false\r\n\t\treturn new Promise(ok => {\r\n\t\t\tvar complete = _ => {\r\n\t\t\t\tcancelled = true\r\n\t\t\t\tok()\r\n\t\t\t}\r\n\t\t\tvar loop = now => {\r\n\t\t\t\tif (cancelled) return\r\n\t\t\t\tvar delta = now - start\r\n\t\t\t\tif (delta < 0) delta = 0\r\n\t\t\t\trequestAnimationFrame(loop)\r\n\t\t\t\tfunc(delta, complete)\r\n\t\t\t}\r\n\t\t\trequestAnimationFrame(loop)\r\n\t\t})\r\n\r\n\t}\r\n\r\n\r\n\tvar $full = false\r\n\tvar $ratio = 16 / 9\r\n\tvar width = document.body.offsetWidth\r\n\tvar $scale = width / $ratio >= 500 ? 480 : width / $ratio - 20\r\n\t//document.body.style.width = '100%'\r\n\r\n\tadjustScale($scale, $ratio)\r\n\r\n\tvar fitScreen = NOP\r\n\twindow.onresize = _ => fitScreen()\r\n\r\n\tdocument.onfullscreenchange = _ => {\r\n\t\tvar full = document.fullscreenElement == el_player\r\n\t\t//LOG(full)\r\n\t\tif (!full) adjustScale($scale, $ratio)\r\n\t}\r\n\r\n\r\n\tvar METHODS = {}\r\n\r\n\tMETHODS = {\r\n\t\tCOMMON: {\r\n\t\t\tinitDisplay: function (opt) {\r\n\t\t\t\tUtil.setDefalts(opt, {\r\n\t\t\t\t\tbackground\t\t: 'black',\r\n\t\t\t\t\tmargin\t\t\t: 'auto',\r\n\t\t\t\t\tposition\t\t: 'relative',\r\n\t\t\t\t\thidth\t\t\t: '100%',\r\n\t\t\t\t\theight\t\t\t: '100%',\r\n\t\t\t\t\toverflow\t\t: 'hidden',\r\n\t\t\t\t//\t$height\t\t\t: 360,\r\n\t\t\t\t//\t$raito\t\t\t: 16 / 9,\r\n\t\t\t\t})\r\n\t\t\t\tvar height = opt.HEIGHT || 480\r\n\r\n\t\t\t\topt.height = opt.width = '100%'\r\n\r\n\t\t\t\tel_context = new DOM('div')\r\n\t\t\t\tel_player.removeChildren()\r\n\t\t\t\tel_player.append(el_context)\r\n\t\t\t\tel_wrapper.setStyles({ overflow\t: 'hidden', maxHeight: '100%', maxWidth: '100%' })\r\n\t\t\t\tif (!document.fullscreenElement) el_player.setStyles({ position: 'relative', overflow: 'hidden', height: '100%', width: '100%' })\r\n\t\t\t\tel_context.setStyles(opt)\r\n\t\t\t},\r\n\r\n\t\t\tshowNotice: function (message, show_time = 3000, delay_time = 500) {\r\n\t\t\t\tif (!message) throw 'illegal message string'\r\n\t\t\t\tmessage = '【！】\\n' + message\r\n\t\t\t\tvar noticeWindow = new DOM('div', {\r\n\t\t\t\t\tfontSize\t\t: '2em',\r\n\t\t\t\t\tcolor\t\t\t: 'rgba(0,0,0,0.75)',\r\n\t\t\t\t\ttextShadow\t\t: 'rgba(0,0,0,0.75) 0.01em 0.01em 0.01em',\r\n\t\t\t\t\tbackgroundColor\t: 'rgba(255,255,0,0.75)',\r\n\t\t\t\t\tboxShadow\t\t: 'rgba(100,100,0,0.5) 0px 0px 5px 5px',\r\n\t\t\t\t\tborderRadius\t: '2% / 10%',\r\n\t\t\t\t\ttextAlign\t\t: 'center',\r\n\t\t\t\t\tlineHeight\t\t: '1.5em',\r\n\t\t\t\t\topacity\t\t\t: '0',\r\n\t\t\t\t\tposition\t\t: 'absolute',\r\n\t\t\t\t\tleft\t\t\t: 'calc((100% - 90%) / 2)',\r\n\t\t\t\t\ttop\t\t\t\t: '20%',\r\n\t\t\t\t\tzIndex\t\t\t: '100',\r\n\t\t\t\t\twidth\t\t\t: '90%',\r\n\t\t\t\t})\r\n\t\t\t\tel_player.append(noticeWindow).append(new DOM('pre', {margin: '5%'})).append(new DOM('text', message))\r\n\t\t\t\treturn new Promise(function (ok, ng) {\r\n\t\t\t\t\tvar opacity = 0\r\n\t\t\t\t\tsetAnimate(function (delta, complete) {\r\n\t\t\t\t\t\topacity = delta / delay_time\r\n\t\t\t\t\t\tif (opacity >= 1) {\r\n\t\t\t\t\t\t\topacity = 1\r\n\t\t\t\t\t\t\tcomplete()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnoticeWindow.style.opacity = opacity\r\n\t\t\t\t\t}).delay(show_time).and(setAnimate, (delta, complete) => {\r\n\t\t\t\t\t\topacity = 1 - delta / delay_time\r\n\t\t\t\t\t\tif (opacity <= 0) {\r\n\t\t\t\t\t\t\topacity = 0\r\n\t\t\t\t\t\t\tcomplete()\r\n\t\t\t\t\t\t\tnoticeWindow.remove()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnoticeWindow.style.opacity = opacity\r\n\t\t\t\t\t}).then(ok, ng)\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tsetLoadingMessage: function (message) {\r\n\t\t\t\tvar loadingWindow = new DOM('div', {\r\n\t\t\t\t\tfontSize\t\t: '2em',\r\n\t\t\t\t\tcolor\t\t\t: 'rgba(255,255,255,0.5)',\r\n\t\t\t\t\ttextShadow\t\t: 'rgba(0,0,0,0.5) 0.01em 0.01em 0.01em',\r\n\t\t\t\t//\ttextAlign\t\t: 'center',\r\n\t\t\t\t\tposition\t\t: 'absolute',\r\n\t\t\t\t\tright\t\t\t: '0%',\r\n\t\t\t\t\tbottom\t\t\t: '0%',\r\n\t\t\t\t\tzIndex\t\t\t: '900',\r\n\t\t\t\t//\twidth\t\t\t: 'auto',\r\n\t\t\t\t})\r\n\r\n\t\t\t\tvar defer = Promise.defer()\r\n\t\t\t\tPromise.resolve().delay(100).then(defer.resolve)\r\n\t\t\t\tdefer.promise.then( _ => el_player.append(loadingWindow).append(new DOM('pre', {margin: '0%'})).append(new DOM('text', message)) )\r\n\t\t\t\tfunction hide() { defer.reject(); loadingWindow.remove() }\r\n\t\t\t\treturn hide\r\n\r\n\t\t\t},\r\n\r\n\t\t\tadjustScale: adjustScale,\r\n\t\t},\r\n\t}\r\n\r\n\tMETHODS = {\r\n\t\tTEST: { __proto__: METHODS.COMMON,\r\n\t\t\tinitDisplay: function (opt) {\r\n\t\t\t\tUtil.setDefalts(opt, {\r\n\t\t\t\t\tfontSize\t\t: 'calc(100% * 2 / 3)',\r\n\t\t\t\t\tcolor\t\t\t: 'white',\r\n\t\t\t\t})\r\n\t\t\t\tthis.__proto__.initDisplay(opt)\r\n\t\t\t\tvar el = new DOM('div', {\r\n\t\t\t\t\tpadding: '10px',\r\n\t\t\t\t})\r\n\t\t\t\tvar el_body = new DOM('pre')\r\n\t\t\t\tthis.el_test = el_body\r\n\t\t\t\tel_context.append(el).append(el_body)\r\n\t\t\t},\r\n\t\t\tprint: function (text, opt) {\r\n\t\t\t\tthis.el_test.textContent = text\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tNOVEL: { __proto__: METHODS.COMMON,\r\n\t\t\tinitDisplay: function (opt) {\r\n\t\t\t\tUtil.setDefalts(opt, {\r\n\t\t\t\t\tcolor\t\t\t: 'rgba(255,255,255,0.9)',\r\n\t\t\t\t//\tfontSize\t\t: 'calc(480px / 20)',\r\n\t\t\t\t\ttextShadow\t\t: 'rgba(0,0,0,0.9) 0.1em 0.1em 0.1em',\r\n\t\t\t\t\toverflow\t\t: 'hidden',\r\n\t\t\t\t})\r\n\t\t\t\tthis.__proto__.initDisplay(opt)\r\n\r\n\t\t\t\tthis.mainMessageWindow = this.addMessageWindow({z:10})\r\n\t\t\t\tthis.imageFrame = this.addImageFrame({z:20})\r\n\r\n\t\t\t},\r\n\r\n\t\t\tmessageWindowProto: {\r\n\t\t\t\tnextPage: function (name, opt) {\r\n\t\t\t\t\tname = !name || name.match(/^\\s+$/) ? '' : '【' +name+ '】' \r\n\t\t\t\t\tthis.el_title.textContent = name\r\n\t\t\t\t\tthis.el_body.removeChildren()\r\n\r\n\t\t\t\t},\r\n\t\t\t\taddSentence: function (text, opt) {\r\n\t\t\t\t\ttext += '\\n'\r\n\t\t\t\t\topt = Util.setDefalts(opt, {\r\n\t\t\t\t\t\tweight: 33\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar length = text.length\r\n\t\t\t\t\tvar at = 0\r\n\t\t\t\t\tvar el = this.el_body\r\n\t\t\t\t\tvar weight = opt.weight\r\n\t\t\t\t\tvar cancelled = false\r\n\t\t\t\t\tView.on('go').then( _ => cancelled = true )\r\n\t\t\t\t\treturn setAnimate( (delay, complete) => {\r\n\t\t\t\t\t\tif (cancelled) {\r\n\t\t\t\t\t\t\tel.append(new DOM('text', text.slice(at).replace(/\\u200B/g, '') ))\r\n\t\t\t\t\t\t\treturn complete()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (delay / weight < at) return\r\n\t\t\t\t\t\tvar str = text[at]\r\n\t\t\t\t\t\tif (str != '\\u200B') el.append(new DOM('text', str))\r\n\t\t\t\t\t\tif (++at >= length) complete()\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t},\r\n\r\n\t\t\taddMessageWindow: function (opt) {\r\n\t\t\t\tUtil.setDefalts(opt, {\r\n\t\t\t\t\tbackground\t\t: 'rgba(0,0,100,0.5)',\r\n\t\t\t\t\tboxShadow\t\t: 'rgba(0,0,100,0.5) 0px 0px 5px 5px',\r\n\t\t\t\t\tborderRadius\t: '1% / 1%',\r\n\t\t\t\t\twidth\t\t\t: 'calc(100% - 10px - (2% + 2%))',\r\n\t\t\t\t\theight\t\t\t: 'calc( 30% - 10px - (4% + 2%))',\r\n\t\t\t\t\tfontSize\t\t: '100%',\r\n\t\t\t\t\tlineHeight\t\t: '1.3em',\r\n\t\t\t\t\tfontWeight\t\t: 'bold',\r\n\t\t\t\t\tpadding\t\t\t: '4% 2% 2% 2%',\r\n\t\t\t\t\tposition\t\t: 'absolute',\r\n\t\t\t\t\tbottom\t\t\t: '5px',\r\n\t\t\t\t\tleft\t\t\t: '5px',\r\n\t\t\t\t\tzIndex\t\t\t: opt.z || 1400,\r\n\r\n\t\t\t\t})\r\n\t\t\t\tvar el = new DOM('div', opt)\r\n\t\t\t\tel_context.append(el)\r\n\r\n\t\t\t\tvar el_title = el.append(new DOM('div', {\r\n\t\t\t\t\tdisplay\t\t\t: 'inline-block',\r\n\t\t\t\t\tmarginRight\t\t: '5%',\r\n\t\t\t\t//\tcolor\t\t\t: 'blue',\r\n\t\t\t\t\ttextAlign\t\t: 'right',\r\n\t\t\t\t\tverticalAlign\t: 'top',\r\n\t\t\t\t\twidth\t\t\t: '20%',\r\n\t\t\t\t\theight\t\t\t: '100%',\r\n\t\t\t\t//\tbackground\t\t: 'rgba(255,100,200,0.5)',\r\n\t\t\t\t//\tpadding\t\t\t: '5px',\r\n\t\t\t\t}))\r\n\t\t\t\tvar el_body = el.append(new DOM('div', {\r\n\t\t\t\t\tdisplay\t\t\t: 'inline-block',\r\n\t\t\t\t\twidth\t\t\t: 'auto',\r\n\t\t\t\t\theight\t\t\t: '100%',\r\n\t\t\t\t//\tpadding\t\t\t: '15px',\r\n\t\t\t\t})).append(new DOM('pre', {\r\n\t\t\t\t\tmargin\t\t\t: '0',\r\n\t\t\t\t}))\r\n\r\n\t\t\t\tvar mw = { __proto__: this.messageWindowProto,\r\n\t\t\t\t\tel\t\t\t\t: el,\r\n\t\t\t\t\tel_title\t\t: el_title,\r\n\t\t\t\t\tel_body\t\t\t: el_body,\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn mw\r\n\t\t\t},\r\n\r\n\t\t\taddImageFrame: function (opt) {\r\n\r\n\t\t\t\tvar fr = new DOM('div', {\r\n\t\t\t\t\theight\t\t\t: '100%',\r\n\t\t\t\t\twidth\t\t\t: '100%',\r\n\t\t\t\t\tzIndex\t\t\t: opt.z || 1500,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tel_context.append(fr)\r\n\t\t\t\treturn fr\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetChoiceWindow: function (opts) {\r\n\r\n\t\t\t\tvar defer = Promise.defer()\r\n\r\n\t\t\t\tvar cw = new DOM('div', {\r\n\t\t\t\t\tposition\t\t: 'absolute',\r\n\t\t\t\t\tleft\t\t\t: 'calc((100% - 60%) / 2 - 10%)',\r\n\t\t\t\t\twidth\t\t\t: '60%',\r\n\t\t\t\t\ttop\t\t\t\t: '10%', \r\n\t\t\t\t\tboxShadow\t\t: 'rgba(100, 100, 255, 0.5) 0 0 2em',\r\n\t\t\t\t\tborderRadius\t: '3% / 5%',\r\n\t\t\t\t\tbackground\t\t: 'rgba(100, 100, 255, 0.3)',\r\n\t\t\t\t\tpadding\t\t\t: '5% 10%',\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t\topts.forEach(function (opt) {\r\n\t\t\t\t\tvar bt = new DOM('button', {\r\n\t\t\t\t\t\tdisplay\t\t\t: 'block',\r\n\t\t\t\t\t\tfontSize\t\t: '100%',\r\n\t\t\t\t\t\tboxShadow\t\t: 'inset 0 1px 3px #F1F1F1, inset 0 -15px rgba(0,0,223,0.2), 1px 1px 2px #E7E7E7',\r\n\t\t\t\t\t\tbackground\t\t: 'rgba(0,0,100,0.8)',\r\n\t\t\t\t\t\tcolor\t\t\t: 'white',\r\n\t\t\t\t\t\tborderRadius\t: '5% / 50%',\r\n\t\t\t\t\t\twidth\t\t\t: '100%',\r\n\t\t\t\t\t\theight\t\t\t: '2.5em',\r\n\t\t\t\t\t\tmargin\t\t\t: '5% 0%',\r\n\t\t\t\t\t})\r\n\t\t\t\t\tbt.append(new DOM('text', opt.name))\r\n\t\t\t\t\tbt.onclick = _ => {\r\n\t\t\t\t\t\tdefer.resolve(opt.value)\r\n\t\t\t\t\t\tcw.remove()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcw.append(bt)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tel_context.append(cw)\r\n\r\n\t\t\t\treturn defer.promise\r\n\r\n\t\t\t},\r\n\r\n\t\t\tsetBGImage: function (opt) {\r\n\t\t\t\tel_context.style.backgroundImage = opt.url\r\n\t\t\t\tel_context.style.backgroundSize = 'cover'\r\n\t\t\t},\r\n\r\n\t\t\tsetFDImages: function (opts) {\r\n\t\t\t\tvar el = this.imageFrame\r\n\t\t\t\tel.removeChildren()\r\n\t\t\t\topts.forEach( opt => {\r\n\t\t\t\t\tvar img = new DOM('img', {\r\n\t\t\t\t\t\tposition\t\t: 'absolute',\r\n\t\t\t\t\t\tleft\t\t\t: opt.left  || '',\r\n\t\t\t\t\t\tright\t\t\t: opt.right || '',\r\n\t\t\t\t\t\tmaxWidth\t\t: '50%',\r\n\t\t\t\t\t\theight\t\t\t: '100%',\r\n\t\t\t\t\t})\r\n\t\t\t\t\timg.src = opt.url\r\n\t\t\t\t\tel.append(img)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tnextPage: function (name, opt) {\r\n\t\t\t\tthis.mainMessageWindow.nextPage(name, opt)\r\n\t\t\t},\r\n\r\n\t\t\taddSentence: function (text, opt) {\r\n\t\t\t\treturn this.mainMessageWindow.addSentence(text, opt)\r\n\t\t\t},\r\n\r\n\t\t},\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\tvar ViewProto = { __proto__: METHODS.COMMON,\r\n\t\tfresh: function () {\r\n\t\t\tView = { __proto__: ViewProto }\r\n\t\t},\r\n\t\tinit: function (opt) {\r\n\t\t\tthis.initDisplay(opt.style || {})\r\n\t\t},\r\n\t\tinitDisplay: function (opt) {\r\n\t\t\tthis.__proto__.initDisplay(opt)\r\n\t\t},\r\n\t\tchangeMode: function (type, opt) {\r\n\t\t\tvar type = type.toUpperCase()\r\n\t\t\topt = opt || {}\r\n\r\n\t\t\tif (!type in METHODS) throw 'illegal ViewContext mode type'\r\n\r\n\t\t\tViewProto.__proto__ = METHODS[type]\r\n\t\t\tView.init(opt)\r\n\r\n\t\t},\r\n\t\ton: function (type, onFulfilled, onRejected) {\r\n\r\n\t\t\t return new Promise( resolve => {\r\n\t\t\t\t\r\n\t\t\t\tswitch (type) {\r\n\r\n\t\t\t\t\tcase 'go':\r\n\t\t\t\t\t\thookInput(['Lclick', 'enter', 'space'], resolve)\r\n\t\t\t\t\tbreak\r\n\r\n\t\t\t\t\tdefault: throw 'illegal hook event type'\t\t\r\n\t\t\t\t}\r\n\t\t\t}).then(onFulfilled).catch(onRejected)\r\n\r\n\t\t},\r\n\t}\r\n\r\n\tViewProto.fresh()\r\n\r\n\r\n\r\n\tvar hookInput = (_ => {\r\n\r\n\t\tvar keyboardTable = {\r\n\t\t\t13: 'enter',\r\n\t\t\t32: 'space',\r\n\t\t}\r\n\r\n\t\tvar hooks = []\r\n\r\n\t\tdocument.addEventListener('keydown', evt => {\r\n\t\t\tvar type = keyboardTable[evt.keyCode]\r\n\t\t\tif (type) onEvent(type, evt)\r\n\t\t})\r\n\r\n\t\tel_wrapper.addEventListener('mousedown', evt => {\r\n\t\t\tvar type = 'LMR'[evt.button]\r\n\t\t\tif (type) onEvent(type + 'click', evt)\r\n\t\t})\r\n\r\n\t\tfunction onEvent(type, evt) {\r\n\t\t\tevt.preventDefault()\r\n\t\t\thooks = hooks.reduce( (ary, hook, i) => {\r\n\t\t\t\tif (hook.indexOf(type) === -1) ary.push(hook)\r\n\t\t\t\telse hook.resolve()\r\n\t\t\t\treturn ary\r\n\t\t\t}, [])\r\n\t\t}\r\n\r\n\t\treturn function hookInput(hook, resolve) {\r\n\t\t\thook.resolve = resolve\r\n\t\t\thooks.push(hook)\r\n\t\t}\r\n\t})()\r\n\r\n\r\n\tREADY.View.ready(View) \r\n\r\n})","\r\nREADY('Player').next('設定読み込み', _ => {\r\n\t'use strict'\r\n\r\n\tPlayer.getSettingData().then( setting => Player.getScriptData(setting['初期スクリプト'][0])\r\n\r\n\t\t).next('待機', script => READY('View').then( _ => {\r\n\t\t\t\r\n\t\t\tView.changeMode('TEST')\r\n\t\t\tView.print('準備が完了しました。\\nクリック（orエンターキー　orスペースキー）で次のページに進みます。')\r\n\t\t\treturn script\r\n\t\t})\r\n\t\r\n\t).on('go').next('実行', START)\r\n\r\n\r\n\tfunction START(script) {\r\n\t\t\r\n\t\t//LOG(script)\r\n\r\n\t\tView.changeMode('NOVEL')\r\n\r\n\t\tPlayer.runScript(script).next('待機', _ => {\r\n\r\n\t\t\tView.changeMode('TEST')\r\n\t\t\tView.print('再生が終了しました。\\nクリックするともう一度最初から再生します。')\r\n\r\n\t\t}).on('go').next('実行', _ => START(script) )\r\n\r\n\t}\r\n\r\n\r\n})\r\n\r\n"]}